@inherits LayoutComponentBase
@using frontend.Shared

@inject AuthState Auth
@inject NavigationManager Nav

<PageTitle>MarketGrowth</PageTitle>

<div class="mg-app">
    <header class="mg-navbar">
        <!-- Vänster: logo -->
        <a href="/" class="mg-navbar-left mg-logo-link">
            <span class="mg-logo-mark">$</span>
            <span class="mg-logo-text">MarketGrowth</span>
        </a>

       <nav class="mg-navbar-center">
    <a href="/marketdata" class="mg-nav-link">Trading</a>
    <a href="/marketdata" class="mg-nav-link">Markets</a>
    <a href="/alerts" class="mg-nav-link">Alerts</a>   <!-- 👈 HÄR -->
    <a href="/" class="mg-nav-link">Learn</a>
    <a href="/" class="mg-nav-link">About</a>
       </nav>

        <!-- Höger: login / logout -->
        <div class="mg-navbar-right">
            @if (Auth.IsLoggedIn)
            {
                <button class="mg-btn mg-btn-outline mg-nav-login"
                        @onclick="Logout">
                    Log out @Auth.UserId
                </button>
            }
            else
            {
                <a href="/authentication" class="mg-btn mg-btn-outline mg-nav-login">
                    Log in
                </a>
            }
        </div>
    </header>

    <main class="mg-main">
        @Body
    </main>
</div>

@code {
    private async Task Logout()
    {
        await Auth.LogoutAsync();
        Nav.NavigateTo("/");
    }
}
